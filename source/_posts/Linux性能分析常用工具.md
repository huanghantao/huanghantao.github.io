---
title: Linux性能分析常用工具
date: 2019-07-30 17:14:07
tags:
- Linux
- 性能
---

# 模拟

## 系统压力测试

`stress`，可以模拟很多的系统压力测试，例如CPU密集型场景、IO密集型场景等等。

## 模拟系统多线程调度切换

`sysbench`，多线程的基准测试工具。

碰到上下文切换次数过多的问题时，我们可以借助`vmstat`、`pidstat`和`/proc/interrupts`等工具，来辅助排查性能问题的根源。

## 模拟磁盘和文件的 I/O

`dd`

# 查看

## 平均负载

`uptime`

## 多核CPU性能分析

`mpstat`，可以实时查看每个`CPU`的性能指标，以及所有`CPU`的平均指标。

## 进程性能分析

`pidstat`，可以实时查看进程的`CPU`、内存、`I/O`以及上下文切换等性能指标。

## 系统的内存使用情况分析

`vmstat`，主要用来分析系统的内存使用情况，也常用来分析`CPU`上下文切换和中断的次数。

## CPU上下文切换和中断的次数分析

`vmstat`

## 查看系统缓存命中情况

cachestat 提供了整个操作系统缓存的读写命中情况。
cachetop 提供了每个进程的缓存命中情况。