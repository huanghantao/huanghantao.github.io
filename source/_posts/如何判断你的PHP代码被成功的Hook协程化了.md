---
title: 如何判断你的PHP代码被成功的Hook协程化了
date: 2021-04-02 17:10:33
tags:
- Swoole
- PHP
---

最近，有一个小伙伴提了一个[issue](https://github.com/swoole/swoole-src/issues/4125)，大概就是问如何判断协程在处理`MySQl`的时候，是否真的进行协程切换了。大概有如下常见的方法：

1. 在PHP代码里面打印日志，看看日志是否是乱序的，如果乱序，说明协程确实切换了。
2. 使用`time`命令，观察时间，看看时间是否有明显的缩短。
3. 对服务进行压测，看`QPS`是否有较为明显的提高。
